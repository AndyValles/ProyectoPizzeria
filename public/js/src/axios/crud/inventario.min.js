import { query, queryAll, load_on } from "../../../load.min.js";
import { Create, Edit, Delete, Buscar } from "../axios.min.js";
var articulo;
var item;

function idS_Modif(query1) {
    if (query1 != null) {
        return query1.value;
    }

    return null;
}

load_on(document, 'click', '.btn-agregar-modal', function(e) {

    let data = {
        INV_CodigoInterno: 0,
        INV_StockModificado: query("#INV_StockModificado").value,
        ART_CodigoInterno: idS_Modif(query("#ART_CodigoInterno")),
        ITEM_CodigoInterno: idS_Modif(query("#ITEM_CodigoInterno")),
        INV_Estado: '1',
    };

    Create(data);

});

load_on(document, 'click', '.btn-crud-edit', function(e) {
    let codigo = query('#CodigoInterno') != "" ? query('#CodigoInterno').value : 0;

    let data = {
        INV_CodigoInterno: codigo,
        INV_StockModificado: query("#INV_StockModificado").value,
        ART_CodigoInterno: idS_Modif(query("#ART_CodigoInterno")),
        ITEM_CodigoInterno: idS_Modif(query("#ITEM_CodigoInterno")),
        INV_Estado: '1',
    };

    Edit(codigo, data);
});

load_on(document, 'click', '.btn-filter-guardar', function(e) {
    let id = query('.general-id') != "" ? query('.general-id').getAttribute("data-id") : 0;
    let data = {
        INV_CodigoInterno: id,
        INV_StockModificado: "",
        ART_CodigoInterno: "0",
        ITEM_CodigoInterno: "",
        INV_Estado: '0',
    };

    Delete(id, data);
});

load_on(document, 'click', '.btn-crud-Agregar', function(e) {
    let data = {
        INV_CodigoInterno: query("#Bus_INV_StockModificado").value == "" ? "%%" : query("#Bus_INV_StockModificado").value,
        INV_StockModificado: "%%",
        ART_CodigoInterno: query("#BUS_ART_CodigoInterno").value == "" ? "%%" : query("#Bus_ART_CodigoInterno").value,
        ITEM_CodigoInterno: query("#Bus_INV_CodigoInterno").value == "" ? "%%" : query("#Bus_ITEM_CodigoInterno").value,
        INV_Estado: query("#Bus_INV_Estado").value == "" ? "%%" : query("#Bus_INV_Estado").value,
    };

    Buscar(data);
});