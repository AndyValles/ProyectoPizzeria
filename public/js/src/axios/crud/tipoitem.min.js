import { query, queryAll, load_on } from "../../../load.min.js";
import { Create, Edit, Delete, Buscar, ObtenerEstado } from "../axios.min.js";


load_on(document, 'click', '.btn-agregar-modal', function(e) {
    let data = {
        TIPIT_CodigoInterno: 0,
        TIPIT_Nombre: query("#TIPIT_Nombre").value,
        TIPIT_Importancia: ObtenerEstado(".TIPIT_Importancia"),
        TIPIT_Seleccion: ObtenerEstado(".TIPIT_Seleccion"),
        TIPIT_Estado: '1',
    };

    Create(data);
});

load_on(document, 'click', '.btn-crud-edit', function(e) {

    let codigo = query('#CodigoInterno') != "" ? query('#CodigoInterno').value : 0;
    let data = {
        TIPIT_CodigoInterno: codigo,
        TIPIT_Nombre: query("#TIPIT_Nombre").value,
        TIPIT_Importancia: ObtenerEstado(".TIPIT_Importancia"),
        TIPIT_Seleccion: ObtenerEstado(".TIPIT_Seleccion"),
        TIPIT_Estado: '1',
    };
    Edit(codigo, data);
});

load_on(document, 'click', '.btn-filter-guardar', function(e) {
    let id = query('.general-id') != null ? query('.general-id').getAttribute("data-id") : 0;
    let data = {
        TIPIT_CodigoInterno: id,
        TIPIT_Nombre: "",
        TIPIT_Importancia: "",
        TIPIT_Seleccion: "",
        TIPIT_Estado: '0',
    };

    Delete(id, data);
});

load_on(document, 'click', '.btn-crud-Agregar', function(e) {
    let data = {
        TIPIT_CodigoInterno: query("#Bus_TIPIT_Codigo").value == "" ? "%%" : query("#Bus_TIPIT_Codigo").value,
        TIPIT_Nombre: query("#Bus_TIPIT_Nombre").value == "" ? "%%" : query("#Bus_TIPIT_Nombre").value,
        TIPIT_Estado: query("#Bus_TIPIT_Estado").value == "" ? "%%" : query("#Bus_TIPIT_Estado").value,
    };

    Buscar(data);
});