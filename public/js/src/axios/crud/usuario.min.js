import { query, queryAll, load_on } from "../../../load.min.js";
import { Create, Edit, Delete, Buscar } from "../axios.min.js";

load_on(document, 'click', '.btn-agregar-modal', function(e) {
    let data = {
        USU_CodigoInterno: 0,
        USU_DNI: query("#USU_DNI").value,
        USU_PriNombre: query("#USU_PriNombre").value,
        USU_SegNombre: query("#USU_SegNombre").value,
        USU_ApePaterno: query("#USU_ApePaterno").value,
        USU_ApeMaterno: query("#USU_ApeMaterno").value,
        USU_Usuario: query("#USU_Usuario").value,
        USU_Clave: query("#USU_Clave").value,
        USU_Token: query("#USU_Token").value,
        USU_Telefono: query("#USU_Telefono").value,
        USU_Correo: query("#USU_Correo").value,
        USU_FechaNacimiento: query("#USU_FechaNacimiento").value,
        USU_Estado: "1",
        SEX_CodigoInterno: query("#SEX_CodigoInterno").getAttribute("data-id"),
    };

    console.log(this);

    Create(data);
});


load_on(document, 'click', '.btn-crud-edit', function(e) {
    let codigo = query('#CodigoInterno') != "" ? query('#CodigoInterno').value : 0;

    let data = {
        USU_CodigoInterno: codigo,
        USU_DNI: query("#USU_DNI").value,
        USU_PriNombre: query("#USU_PriNombre").value,
        USU_SegNombre: query("#USU_SegNombre").value,
        USU_ApePaterno: query("#USU_ApePaterno").value,
        USU_ApeMaterno: query("#USU_ApeMaterno").value,
        USU_Usuario: query("#USU_Usuario").value,
        USU_Clave: query("#USU_Clave").value,
        USU_Token: query("#USU_Token").value,
        USU_Telefono: query("#USU_Telefono").value,
        USU_Correo: query("#USU_Correo").value,
        USU_FechaNacimiento: query("#USU_FechaNacimiento").value,
        USU_Estado: "1",
        SEX_CodigoInterno: query("#SEX_CodigoInterno").getAttribute("data-id"),
    };

    Edit(codigo, data);
});

load_on(document, 'click', '.btn-filter-guardar', function(e) {
    let id = query('.general-id') != "" ? query('.general-id').getAttribute("data-id") : 0;
    let data = {
        USU_CodigoInterno: id,
        USU_DNI: "",
        USU_PriNombre: "",
        USU_SegNombre: "",
        USU_ApePaterno: "",
        USU_ApeMaterno: "",
        USU_Usuario: "",
        USU_Clave: "",
        USU_Token: "",
        USU_Telefono: "",
        USU_Correo: "",
        USU_FechaNacimiento: "",
        USU_Estado: "1",
        SEX_CodigoInterno: "",
    };

    Delete(id, data);
});

load_on(document, 'click', '.btn-crud-Agregar', function(e) {
    let data = {
        USU_CodigoInterno: query("#Bus_USU_CodigoInterno").value == "" ? "%%" : query("#Bus_USU_CodigoInterno").value,
        USU_DNI: query("#Bus_USU_DNI").value == "" ? "%%" : query("#Bus_USU_DNI").value,
        USU_Nombre: query("#Bus_USU_Nombre").value == "" ? "%%" : query("#Bus_USU_Nombre").value,
        USU_Apellido: query("#Bus_USU_Apellido").value == "" ? "%%" : query("#Bus_USU_Apellido").value,
        USU_FechaNacimiento: query("#Bus_USU_FechaNacimiento").value == "" ? "%%" : query("#Bus_USU_FechaNacimiento").value,
        USU_Estado: query("#Bus_USU_Estado").value == "" ? "%%" : query("#Bus_USU_Estado").value,
        SEX_CodigoInterno: query("#Bus_SEX_CodigoInterno").value == "" ? "%%" : query("#Bus_SEX_CodigoInterno").value,
        USU_FechaRegistro: query("#Bus_USU_FechaRegistro").value == "" ? "%%" : query("#Bus_USU_FechaRegistro").value,
    };

    Buscar(data);
});